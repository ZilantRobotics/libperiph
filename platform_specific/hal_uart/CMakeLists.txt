if(NOT LIBPERIPH_PLATFORM)
  message(SEND_ERROR "LIBPERIPH_PLATFORM is not specified")
endif()

FILE(GLOB sources ${CMAKE_CURRENT_LIST_DIR}/${LIBPERIPH_PLATFORM}/*.c)
list(APPEND LIBPERIPH_PERIPHERY_SOURCE ${sources})

list(APPEND LIBPERIPH_PERIPHERY_HEADERS
  ${CMAKE_CURRENT_LIST_DIR}
  ${CMAKE_CURRENT_LIST_DIR}/../../common
)
